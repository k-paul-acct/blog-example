@model PostsPageViewModel

<div class="page-block">
    <div>
        @if (Model.Posts.Count() != 0)
        {
            @foreach (var m in Model.Posts)
            {
                @await Html.PartialAsync("_PostPreview", m);
            }
        }
        else
        {
            <h2>Oops... Nothing here to show!</h2>
        }
    </div>
    <div>
        @if (Model.PageNumber > 1)
        {
            <a asp-controller="Home"
               asp-action="Index"
               asp-route-category="@Model.Category"
               asp-route-searchQuery="@Model.SearchQuery"
               asp-route-pageNumber="@(Model.PageNumber - 1)"
               asp-route-limit="@Model.Limit"
               asp-route-cursorValue="@Model.CursorValueStart"
               asp-route-afterCursor="false">
                Previous
            </a>
        }
        <span>@Model.PageNumber</span>
        @if (Model.Posts.Count() != 0)
        {
            <a asp-controller="Home"
               asp-action="Index"
               asp-route-category="@Model.Category"
               asp-route-searchQuery="@Model.SearchQuery"
               asp-route-pageNumber="@(Model.PageNumber + 1)"
               asp-route-limit="@Model.Limit"
               asp-route-cursorValue="@Model.CursorValueEnd"
               asp-route-afterCursor="true">
                Next
            </a>
        }
    </div>
</div>